<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Package for analysing funtional near-infrared spectroscopy (fNIRS) data • fnirsr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">fnirsr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="/index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Introduction.html">Introduction to fnirsr package</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<p><strong>An R Package for analysing functional near-infrared spectroscopy (fNIRS) data</strong></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<ul>
<li>Install <em>devtools</em> if you don’t have it yet: <code>install.packages("devtools")</code>
</li>
<li>Use <code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">devtools::install_github("erzk/fnirsr")</a></code> to install the package.</li>
</ul>
<p>Sample data files come from <a href="https://www.nitrc.org/projects/nirs_spm/">NIRS-SPM</a> and <a href="http://homer-fnirs.org/">HOMER2</a>.</p>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
</div>
<div id="loading-a-file-etg-4000" class="section level2">
<h2 class="hasAnchor">
<a href="#loading-a-file-etg-4000" class="anchor"></a>Loading a file (ETG-4000)</h2>
<p>In its current development stage this package can only read raw csv files produced by Hitachi ETG-4000. Other systems produce file with a different structure and so far I did not need to use them. Eventually, I might expand this package to work with other file types.</p>
<p>File <em>Hitachi_ETG4000_24Ch_Total.csv</em> , which is used in this vignette and is attached to this package, comes from <a href="http://bispl.weebly.com/nirs-spm.html#/">NIRS-SPM</a>.</p>
<p>Top level information about the recording is held in a header. It has an irregular form so it is a bit tricky to parse. This package version reads the section of the csv file before the data section and returns a vector with header info:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(fnirsr)

file_path &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"Hitachi_ETG4000_24Ch_Total.csv"</span>, <span class="dt">package =</span> <span class="st">"fnirsr"</span>)
header &lt;-<span class="st"> </span><span class="kw"><a href="reference/load_ETG4000_header.html">load_ETG4000_header</a></span>(file_path)

<span class="kw">head</span>(header)
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "File Version,1.08"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] "Patient Information"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; [1] "ID,KikuchiWF"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[4]]</span>
<span class="co">#&gt; [1] "Name,Kikuchi"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[5]]</span>
<span class="co">#&gt; [1] "Comment,IOWA fukawa-late,,"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[6]]</span>
<span class="co">#&gt; [1] "Age, 44y"</span></code></pre></div>
<p>Loading the signal from csv files can be accomplished using the basic <code><a href="reference/load_ETG4000_data.html">load_ETG4000_data()</a></code> function. It reads the data section of a csv file, changes the <code>Time</code> column to reflect time period from the beginning of the recording (instead of actual hour), and returns a data frame. Header of the ETG-4000 file needs to be provided as it includes the information about the sampling period.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw"><a href="reference/load_ETG4000_data.html">load_ETG4000_data</a></span>(file_path, header)

<span class="kw">str</span>(df)
<span class="co">#&gt; 'data.frame':    3351 obs. of  30 variables:</span>
<span class="co">#&gt;  $ Probe1.Total.: int  1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ CH1          : num  -0.0284 -0.0264 -0.0251 -0.0244 -0.0241 ...</span>
<span class="co">#&gt;  $ CH2          : num  0.0174 0.0198 0.0221 0.0238 0.025 ...</span>
<span class="co">#&gt;  $ CH3          : num  -0.0217 -0.0199 -0.0189 -0.0184 -0.0182 ...</span>
<span class="co">#&gt;  $ CH4          : num  -0.008498 -0.005906 -0.003531 -0.001651 -0.000384 ...</span>
<span class="co">#&gt;  $ CH5          : num  0.00966 0.01212 0.01442 0.01579 0.01667 ...</span>
<span class="co">#&gt;  $ CH6          : num  -0.0194 -0.0176 -0.0158 -0.0146 -0.0138 ...</span>
<span class="co">#&gt;  $ CH7          : num  -0.0292 -0.0267 -0.0247 -0.0237 -0.0231 ...</span>
<span class="co">#&gt;  $ CH8          : num  -0.0513 -0.0493 -0.0488 -0.05 -0.05 ...</span>
<span class="co">#&gt;  $ CH9          : num  -0.0716 -0.0686 -0.066 -0.0635 -0.0636 ...</span>
<span class="co">#&gt;  $ CH10         : num  0.0131 0.0149 0.0155 0.0154 0.0148 ...</span>
<span class="co">#&gt;  $ CH11         : num  -0.0708 -0.0695 -0.0675 -0.0662 -0.0681 ...</span>
<span class="co">#&gt;  $ CH12         : num  -0.0458 -0.0469 -0.0472 -0.0493 -0.0485 ...</span>
<span class="co">#&gt;  $ CH13         : num  0.0151 0.0177 0.0178 0.0186 0.0196 ...</span>
<span class="co">#&gt;  $ CH14         : num  0.00488 0.00832 0.01059 0.01139 0.01237 ...</span>
<span class="co">#&gt;  $ CH15         : num  -0.00092 -0.000109 0.001794 0.004157 0.005974 ...</span>
<span class="co">#&gt;  $ CH16         : num  0.0128 0.0147 0.0165 0.0177 0.0183 ...</span>
<span class="co">#&gt;  $ CH17         : num  0.0327 0.0352 0.0372 0.039 0.0403 ...</span>
<span class="co">#&gt;  $ CH18         : num  -0.0378 -0.0358 -0.0348 -0.0335 -0.0326 ...</span>
<span class="co">#&gt;  $ CH19         : num  0.0289 0.0318 0.0345 0.0361 0.0375 ...</span>
<span class="co">#&gt;  $ CH20         : num  -0.01041 -0.00884 -0.00789 -0.00707 -0.00677 ...</span>
<span class="co">#&gt;  $ CH21         : num  -0.0736 -0.0714 -0.0697 -0.0687 -0.0682 ...</span>
<span class="co">#&gt;  $ CH22         : num  0.0229 0.0264 0.0291 0.0311 0.0322 ...</span>
<span class="co">#&gt;  $ CH23         : num  -0.145 -0.144 -0.143 -0.142 -0.141 ...</span>
<span class="co">#&gt;  $ CH24         : num  -0.0446 -0.0412 -0.038 -0.0359 -0.0353 ...</span>
<span class="co">#&gt;  $ Mark         : int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt;  $ Time         : num  0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 ...</span>
<span class="co">#&gt;  $ BodyMovement : int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt;  $ RemovalMark  : int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt;  $ PreScan      : int  0 0 0 0 0 0 0 0 0 0 ...</span></code></pre></div>
</div>
<div id="plotting-a-signal-etg-4000" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-a-signal-etg-4000" class="anchor"></a>Plotting a signal (ETG-4000)</h2>
<p>Once the csv file is loaded and a data frame is created, you can start plotting the signal.</p>
<p>Plotting function <code><a href="reference/plot_ETG4000.html">plot_ETG4000()</a></code> comes with four arguments:</p>
<ul>
<li><code>facets</code></li>
<li><code>overlap</code></li>
<li><code>channel</code></li>
<li><code>average</code></li>
</ul>
<p>The default choice is <code>facets</code> which will show all channels in separate facets. This should enable spotting outliers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/plot_ETG4000.html">plot_ETG4000</a></span>(df)</code></pre></div>
<p><img src="README-facets-1.png" width="672"></p>
<p>Another option is plotting all channels overlapping each other:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/plot_ETG4000.html">plot_ETG4000</a></span>(df, <span class="dt">type =</span> <span class="st">"overlap"</span>)</code></pre></div>
<p><img src="README-overlap-1.png" width="672"></p>
<p>Alternatively, if you want to plot a single channel of interest then use the <code>separate</code> argument and a channel number. This option uses time column as an x-axis (as opposed to the previous plots using samples).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/plot_ETG4000.html">plot_ETG4000</a></span>(df, <span class="dt">type =</span> <span class="st">"separate"</span>, <span class="dt">channel =</span> <span class="dv">1</span>)</code></pre></div>
<p><img src="README-separate-1.png" width="672"></p>
<p>In order to create a plot showing averaged signal, it is necessary to first create a column with the averaged signal:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw"><a href="reference/grand_average_ETG4000.html">grand_average_ETG4000</a></span>(df)

<span class="kw">names</span>(df)
<span class="co">#&gt;  [1] "Probe1.Total." "CH1"           "CH2"           "CH3"          </span>
<span class="co">#&gt;  [5] "CH4"           "CH5"           "CH6"           "CH7"          </span>
<span class="co">#&gt;  [9] "CH8"           "CH9"           "CH10"          "CH11"         </span>
<span class="co">#&gt; [13] "CH12"          "CH13"          "CH14"          "CH15"         </span>
<span class="co">#&gt; [17] "CH16"          "CH17"          "CH18"          "CH19"         </span>
<span class="co">#&gt; [21] "CH20"          "CH21"          "CH22"          "CH23"         </span>
<span class="co">#&gt; [25] "CH24"          "Mark"          "Time"          "BodyMovement" </span>
<span class="co">#&gt; [29] "RemovalMark"   "PreScan"       "GrandAverage"</span></code></pre></div>
<p>Once <code>GrandAverage</code> column is created, the plot for averaged channels can be created:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/plot_ETG4000.html">plot_ETG4000</a></span>(df, <span class="dt">type =</span> <span class="st">"average"</span>)</code></pre></div>
<p><img src="README-grand_average-1.png" width="672"></p>
</div>
<div id="cleaning-a-signal-etg-4000" class="section level2">
<h2 class="hasAnchor">
<a href="#cleaning-a-signal-etg-4000" class="anchor"></a>Cleaning a signal (ETG-4000)</h2>
<p>If a channel (or several channels) is corrupt and cannot be cleaned then the simplest way to obtain clean grand average is to remove the noisy channel.</p>
<p>The faceted plots above show that channel 15 and 20 look noisy. To remove these channels from the signal data frame use the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw"><a href="reference/remove_channels_ETG4000.html">remove_channels_ETG4000</a></span>(df, <span class="dt">channel =</span> <span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">20</span>))

<span class="kw">names</span>(df)
<span class="co">#&gt;  [1] "Probe1.Total." "CH1"           "CH2"           "CH3"          </span>
<span class="co">#&gt;  [5] "CH4"           "CH5"           "CH6"           "CH7"          </span>
<span class="co">#&gt;  [9] "CH8"           "CH9"           "CH10"          "CH11"         </span>
<span class="co">#&gt; [13] "CH12"          "CH13"          "CH14"          "CH16"         </span>
<span class="co">#&gt; [17] "CH17"          "CH18"          "CH19"          "CH21"         </span>
<span class="co">#&gt; [21] "CH22"          "CH23"          "CH24"          "Mark"         </span>
<span class="co">#&gt; [25] "Time"          "BodyMovement"  "RemovalMark"   "PreScan"      </span>
<span class="co">#&gt; [29] "GrandAverage"</span></code></pre></div>
</div>
<div id="detrending-a-signal-etg-4000" class="section level2">
<h2 class="hasAnchor">
<a href="#detrending-a-signal-etg-4000" class="anchor"></a>Detrending a signal (ETG-4000)</h2>
<p>fNIRS signal is likely to show a linear trend which can be removed.</p>
<p>Grand Average in the plot above is showing a linear downward trend. The linear trend can be removed from all channels (recommended) or from a single channel.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fnirs_detrended &lt;-<span class="st"> </span><span class="kw"><a href="reference/detrend_ETG4000_data.html">detrend_ETG4000_data</a></span>(df) <span class="co"># detrend all channels</span>
<span class="kw"><a href="reference/plot_ETG4000.html">plot_ETG4000</a></span>(fnirs_detrended)</code></pre></div>
<p><img src="README-facets_detrended-1.png" width="672"></p>
<p>I suggest detrending the signal before creating a Grand Average. This way the <code><a href="reference/grand_average_ETG4000.html">grand_average_ETG4000()</a></code> function will create a <em>Grand Average</em> column with detrended signal.</p>
<p>The effect of detrending is easier to observe when zooming on a particular channel. Compare the plots underneath to see how removing the linear trend is changing the signal:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/plot_ETG4000.html">plot_ETG4000</a></span>(df, <span class="st">"separate"</span>, <span class="dv">18</span>) <span class="co"># zoom on one channel to notice detrending</span></code></pre></div>
<p><img src="README-separate_18-1.png" width="672"></p>
<p>Here is the same channel but without the linear trend:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/plot_ETG4000.html">plot_ETG4000</a></span>(fnirs_detrended, <span class="st">"separate"</span>, <span class="dv">18</span>)</code></pre></div>
<p><img src="README-separate_18_detrended-1.png" width="672"></p>
<p>It is also possible to detrend the signal of only one channel:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># plot of the original channel before detrending</span>
<span class="kw"><a href="reference/plot_ETG4000.html">plot_ETG4000</a></span>(df, <span class="st">"separate"</span>, <span class="dv">24</span>)</code></pre></div>
<p><img src="README-separate_24-1.png" width="672"></p>
<p>Here is that channel after detrending. Other channels are not changed.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># detrend only one channel - 24</span>
fnirs_det_<span class="dv">24</span> &lt;-<span class="st"> </span><span class="kw"><a href="reference/detrend_ETG4000_data.html">detrend_ETG4000_data</a></span>(df, <span class="st">"single"</span>, <span class="dv">24</span>)
<span class="co"># plot of the same channel after detrending</span>
<span class="kw"><a href="reference/plot_ETG4000.html">plot_ETG4000</a></span>(fnirs_det_<span class="dv">24</span>, <span class="st">"separate"</span>, <span class="dv">24</span>)</code></pre></div>
<p><img src="README-separate_24_detrended-1.png" width="672"></p>
</div>
<div id="loading-a-file--nirs" class="section level2">
<h2 class="hasAnchor">
<a href="#loading-a-file--nirs" class="anchor"></a>Loading a file (.nirs)</h2>
<p>While working with fNIRS data you might come across other file formats. One of the most popular formats is <em>.nirs</em> which is used by <a href="http://homer-fnirs.org/">HOMER2</a>. This package’s main goal is to help in analysing ETG-4000 data but I happened to write simple .nirs functions.</p>
<p>To load .nirs data use the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">file_path_nirs &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"Simple_Probe.nirs"</span>, <span class="dt">package =</span> <span class="st">"fnirsr"</span>)
nirs_file &lt;-<span class="st"> </span><span class="kw"><a href="reference/load_nirs_data.html">load_nirs_data</a></span>(file_path_nirs)</code></pre></div>
<p>This will load a list with data and additional information. You can explore it in the following way:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(nirs_file)
<span class="co">#&gt; List of 6</span>
<span class="co">#&gt;  $ SD      :List of 14</span>
<span class="co">#&gt;   ..$ : num [1, 1:2] 830 690</span>
<span class="co">#&gt;   ..$ : num [1, 1:3] 2 2 0</span>
<span class="co">#&gt;   ..$ : num [1, 1] 1</span>
<span class="co">#&gt;   ..$ : num [1:4, 1:3] 0 4 0 4 0 0 4 4 0 0 ...</span>
<span class="co">#&gt;   ..$ : num [1:4, 1] 1 1 1 1</span>
<span class="co">#&gt;   ..$ : num [1:8, 1:4] 1 1 1 1 1 1 1 1 1 2 ...</span>
<span class="co">#&gt;   ..$ : num [1, 1] -1.41</span>
<span class="co">#&gt;   ..$ : num [1, 1] 5.41</span>
<span class="co">#&gt;   ..$ : num [1, 1] -1.41</span>
<span class="co">#&gt;   ..$ : num [1, 1] 5.41</span>
<span class="co">#&gt;   ..$ : num [1, 1] 1</span>
<span class="co">#&gt;   ..$ : num [1, 1] 4</span>
<span class="co">#&gt;   ..$ : num [1:8, 1] 1 1 1 1 1 1 1 1</span>
<span class="co">#&gt;   ..$ : num [1:8, 1] 1 1 1 1 1 1 1 1</span>
<span class="co">#&gt;   ..- attr(*, "dim")= int [1:3] 14 1 1</span>
<span class="co">#&gt;   ..- attr(*, "dimnames")=List of 3</span>
<span class="co">#&gt;   .. ..$ : chr [1:14] "Lambda" "SrcPos" "SrcAmp" "DetPos" ...</span>
<span class="co">#&gt;   .. ..$ : NULL</span>
<span class="co">#&gt;   .. ..$ : NULL</span>
<span class="co">#&gt;  $ t       : num [1:1200, 1] 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 ...</span>
<span class="co">#&gt;  $ d       : num [1:1200, 1:8] 998 992 1001 1001 994 ...</span>
<span class="co">#&gt;  $ s       : num [1:1200, 1] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt;  $ aux     : num [1:1200, 1] 0.0998 0.1987 0.2955 0.3894 0.4794 ...</span>
<span class="co">#&gt;  $ userdata:List of 4</span>
<span class="co">#&gt;   ..$ :List of 6</span>
<span class="co">#&gt;   .. ..$ :List of 1</span>
<span class="co">#&gt;   .. .. ..$ : num [1, 1] 10.9</span>
<span class="co">#&gt;   .. ..$ :List of 1</span>
<span class="co">#&gt;   .. .. ..$ : num [1, 1] 41.9</span>
<span class="co">#&gt;   .. ..$ :List of 1</span>
<span class="co">#&gt;   .. .. ..$ : num [1, 1] 73.9</span>
<span class="co">#&gt;   .. ..$ :List of 1</span>
<span class="co">#&gt;   .. .. ..$ : chr[0 , 1] </span>
<span class="co">#&gt;   .. ..$ :List of 1</span>
<span class="co">#&gt;   .. .. ..$ : chr[0 , 1] </span>
<span class="co">#&gt;   .. ..$ :List of 1</span>
<span class="co">#&gt;   .. .. ..$ : chr[0 , 1] </span>
<span class="co">#&gt;   ..$ :List of 1</span>
<span class="co">#&gt;   .. ..$ :List of 1</span>
<span class="co">#&gt;   .. .. ..$ : chr [1, 1] "1"</span>
<span class="co">#&gt;   ..$ :List of 1</span>
<span class="co">#&gt;   .. ..$ :List of 1</span>
<span class="co">#&gt;   .. .. ..$ : num [1, 1] 100</span>
<span class="co">#&gt;   ..$ : int [1, 1] 1</span>
<span class="co">#&gt;   ..- attr(*, "dim")= int [1:3] 4 1 1</span>
<span class="co">#&gt;   ..- attr(*, "dimnames")=List of 3</span>
<span class="co">#&gt;   .. ..$ : chr [1:4] "data" "cnames" "cwidth" "ceditable"</span>
<span class="co">#&gt;   .. ..$ : NULL</span>
<span class="co">#&gt;   .. ..$ : NULL</span>
<span class="co">#&gt;  - attr(*, "header")=List of 3</span>
<span class="co">#&gt;   ..$ description: chr "MATLAB 5.0 MAT-file, Platform: PCWIN, Created on: Thu Nov 29 17:22:35 2012                                                  "</span>
<span class="co">#&gt;   ..$ version    : chr "5"</span>
<span class="co">#&gt;   ..$ endian     : chr "little"</span></code></pre></div>
<p>The most interesting elements are <code>t</code> (time) and <code>d</code> (data):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># matrix dimensions</span>
<span class="kw">dim</span>(nirs_file<span class="op">$</span>d)
<span class="co">#&gt; [1] 1200    8</span>

<span class="co"># have a look at the data</span>
<span class="kw">head</span>(nirs_file<span class="op">$</span>d)
<span class="co">#&gt;           [,1]      [,2]      [,3]      [,4]      [,5]      [,6]      [,7]</span>
<span class="co">#&gt; [1,]  997.8372  999.6360 1008.4674 1000.2929  997.8885 1001.0946 1004.6207</span>
<span class="co">#&gt; [2,]  991.6721  995.0285 1002.2865  995.4724  998.1526  995.3960 1003.1169</span>
<span class="co">#&gt; [3,] 1000.6267  996.2632 1005.3356 1004.4084  995.7794 1000.3139  998.5897</span>
<span class="co">#&gt; [4,] 1001.4384  999.8459  999.3621 1002.5955 1002.7388 1000.4492 1003.1521</span>
<span class="co">#&gt; [5,]  994.2676 1004.9418 1000.9402 1012.7494  997.5462 1007.1959 1001.8452</span>
<span class="co">#&gt; [6,] 1005.9546  997.0049  997.7337 1004.1946 1001.7077  995.2165  997.1212</span>
<span class="co">#&gt;           [,8]</span>
<span class="co">#&gt; [1,]  997.2000</span>
<span class="co">#&gt; [2,]  998.5318</span>
<span class="co">#&gt; [3,] 1000.1782</span>
<span class="co">#&gt; [4,] 1002.4467</span>
<span class="co">#&gt; [5,] 1005.7159</span>
<span class="co">#&gt; [6,] 1004.6705</span></code></pre></div>
</div>
<div id="plotting-a-signal--nirs" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-a-signal--nirs" class="anchor"></a>Plotting a signal (.nirs)</h2>
<p>Signals can be visualised in faceted time series plots. Red lines symbolise the events (triggers).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/plot_nirs.html">plot_nirs</a></span>(nirs_file)</code></pre></div>
<p><img src="README-facets_nirs-1.png" width="672"></p>
<p><em>Next releases will include filtering, splitting, and transforming the continuous recordings.</em></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://erzk.github.io/fnirsr">https://​erzk.github.io/​fnirsr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/erzk/fnirsr/issues">https://​github.com/​erzk/​fnirsr/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Eryk Walczak <br><small class="roles"> Author, maintainer </small> </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/erzk/fnirsr"><img src="https://travis-ci.org/erzk/fnirsr.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://codecov.io/github/erzk/fnirsr?branch=master"><img src="https://img.shields.io/codecov/c/github/erzk/fnirsr/master.svg" alt="Coverage Status"></a></li>
<li><a href="http://www.gnu.org/licenses/gpl-3.0.html"><img src="http://img.shields.io/badge/license-GPL--3-brightgreen.svg?style=flat" alt="Package-License"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/80361844"><img src="https://zenodo.org/badge/80361844.svg" alt="DOI"></a></li>
<li><a href="https://cran.r-project.org/package=fnirsr"><img src="http://www.r-pkg.org/badges/version/fnirsr" alt="CRAN_Status_Badge"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Eryk Walczak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
